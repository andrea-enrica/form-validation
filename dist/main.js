(()=>{const e=document.getElementsByClassName("confirm")[0],t=document.getElementsByClassName("clear")[0],n=document.getElementById("email"),a=document.getElementById("email-error"),r=document.getElementById("country"),o=document.getElementById("country-error"),s=document.getElementById("zip"),l=document.getElementById("zip-error"),d=document.getElementById("password"),i=document.getElementById("password-error"),m=document.getElementById("password-confirmation"),c=document.getElementById("confirmation-error"),u=document.getElementsByTagName("span");let v=!1,y=[];(()=>{let p={email:n.value,country:r.value,zipCode:s.value,password:d.value,passwordConfirmation:m.value};n.addEventListener("input",(()=>{n.validity.valid?(p.email=n.value,a.textContent="",a.className="error",v=!1):(n.validity.valueMissing?a.textContent="You need to enter an e-mail address.":n.validity.typeMismatch&&(a.textContent="Entered value needs to be an e-mail address."),a.className="error active",v=!0)})),r.addEventListener("input",(()=>{r.validity.valid?(p.country=r.value,o.textContent="",o.className="error",v=!1):(r.validity.valueMissing?o.textContent="You need to enter a Country.":r.validity.patternMismatch&&(o.textContent="Entered value needs to be only letters."),o.className="error active",v=!0)})),s.addEventListener("input",(()=>{s.validity.valid?(p.zipCode=s.value,l.textContent="",l.className="error",v=!1):(s.validity.valueMissing?l.textContent="You need to enter a Zip Code.":s.validity.patternMismatch&&(l.textContent="Entered value needs to be only numbers."),l.className="error active",v=!0)})),d.addEventListener("input",(()=>{d.validity.valid?(p.password=d.value,i.textContent="",i.className="error",v=!1):(d.validity.valueMissing?i.textContent="You need to set a password.":d.validity.patternMismatch&&(i.textContent="Must contain at least one number, one uppercase and one lowercase letters, one symbol. "),i.className="error active",v=!0)})),m.addEventListener("input",(()=>{d.value==m.value?(p.passwordConfirmation=m.value,c.textContent="",c.className="error",v=!1):(c.textContent="The passwords must be the same.",c.className="error active",v=!0)})),t.addEventListener("click",(()=>{document.forms[0].reset(),v=!1;for(let e=0;e<u.length;e++)"error active"==u[e].className&&""!=u[e].textContent&&(u[e].className="error",u[e].textContent="")})),e.addEventListener("click",(()=>{if(0==v){y.push(p),document.forms[0].reset();for(let e=0;e<u.length;e++)"error active"==u[e].className&&""!=u[e].textContent&&(u[e].className="error",u[e].textContent="");console.warn("added",{formStorage:y}),localStorage.setItem("MyFormData",JSON.stringify(y))}}))})()})();